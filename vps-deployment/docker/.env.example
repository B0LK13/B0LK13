# Environment Configuration for N8N Deployment
# Copy this file to .env and update with your actual values

# =============================================================================
# DOMAIN AND SSL CONFIGURATION
# =============================================================================
DOMAIN_NAME=your-domain.com
SSL_EMAIL=your-email@example.com
N8N_HOST=your-domain.com
N8N_PROTOCOL=https
WEBHOOK_URL=https://your-domain.com
TIMEZONE=UTC

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
POSTGRES_DB=n8n
POSTGRES_USER=n8n_user
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_NON_ROOT_USER=n8n_user
POSTGRES_NON_ROOT_PASSWORD=your_secure_postgres_password_here

# =============================================================================
# N8N APPLICATION CONFIGURATION
# =============================================================================
# Basic Authentication (recommended for initial setup)
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=your_secure_n8n_password_here

# Encryption key for sensitive data (generate with: openssl rand -base64 32)
N8N_ENCRYPTION_KEY=your_32_character_encryption_key_here

# Security settings
N8N_SECURE_COOKIE=true

# Logging configuration
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console,file

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_PASSWORD=your_secure_redis_password_here

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_secure_grafana_password_here

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your_app_password
ALERT_EMAIL=admin@your-domain.com

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Session configuration
SESSION_SECRET=your_session_secret_here
SESSION_TIMEOUT=3600

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Memory limits (adjust based on your VPS resources)
POSTGRES_MEMORY_LIMIT=512M
N8N_MEMORY_LIMIT=1G
REDIS_MEMORY_LIMIT=256M

# Worker configuration
N8N_WORKERS=2
N8N_MAX_EXECUTION_TIMEOUT=3600

# =============================================================================
# DEVELOPMENT/DEBUG SETTINGS
# =============================================================================
# Set to true only for development
DEBUG_MODE=false
N8N_LOG_LEVEL=info

# =============================================================================
# ADDITIONAL SECURITY HEADERS
# =============================================================================
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'"
